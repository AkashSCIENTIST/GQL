$global {
    min_budget : 50
    print("min_budget :", $min_budget)
    double_min : $min_budget * 2
    low_movie_budget : [$min_budget, $min_budget * 2]
    high_movie_budget : [$double_min + 1, 1 << 9]
    mask : 1 << 3
    print($mask)
    flags : {$mask, 8}
    target_country : {"India", "USA"}
    print($target_country)
}

<directors> {
    id := dir_var,
    country : $target_country,
    name,
    <movies> {
        name,
        ~budget : $low_movie_budget,
        ~director_id = dir_var := directors_id
    } := low_budget_movies,
    <movies> {
        name,
        budget : $high_movie_budget,
        ~director_id = dir_var := directors_id
    } := high_budget_movies
} := directors_math_1

<directors> {
    id := dir_var,
    country : "USA",
    name,
    <movies> {
        name,
        ~budget : $low_movie_budget,
        ~director_id = dir_var := directors_id
    } := low_budget_movies,
    <movies> {
        name,
        budget : $high_movie_budget,
        ~director_id = dir_var := directors_id
    } := high_budget_movies
} := directors_math_2
